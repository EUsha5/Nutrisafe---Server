(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(57)},31:function(e,t,a){},33:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(23),o=a.n(l),s=(a(31),a(2)),i=a(3),c=a(5),u=a(4),m=a(6),h=(a(33),a(61)),p=a(60),g=a(12),f=a.n(g),d=function e(){var t=this;Object(s.a)(this,e),this.signup=function(e,a,n,r,l){return t.service.post("/signup",{username:e,password:a,firstName:n,lastName:r,email:l}).then(function(e){return e.data})},this.login=function(e,a){return console.log("the info from sign up form &&&&&&&&&&&&&&&&&& ",e,a),t.service.post("/login",{username:e,password:a}).then(function(e){return e.data})},this.loggedin=function(){return t.service.get("/loggedin").then(function(e){return e.data})},this.logout=function(){return t.service.post("/logout",{}).then(function(e){return e.data})};var a=f.a.create({baseURL:"http://localhost:5000/api",withCredentials:!0});this.service=a},b=a(11),E=a(58),v=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password,r=a.state.firstName,l=a.state.lastName,o=a.state.email;a.service.signup(t,n,r,l,o).then(function(e){a.setState({username:"",password:"",firstName:"",lastName:"",email:""}),a.props.setTheUser(e)}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(b.a)({},n,r))},a.state={username:"",password:"",firstName:"",lastName:"",email:""},a.service=new d,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"auth"},r.a.createElement("form",{className:"auth-form",onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{className:"input",type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"First Name:"),r.a.createElement("input",{className:"input",type:"text",name:"firstName",value:this.state.firstName,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Last Name:"),r.a.createElement("input",{className:"input",type:"text",name:"lastName",value:this.state.lastName,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{className:"input",type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Email:"),r.a.createElement("input",{className:"input",type:"email",name:"email",value:this.state.email,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"submit",value:"Signup"})),r.a.createElement("div",{className:"no-acct"},r.a.createElement("p",null,"Already have account?"),r.a.createElement(E.a,{to:"/"}," Login")))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){console.log("submitting form data for user log in <<<<<<<<<<<<<<<<<<<<"),e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then(function(e){console.log(e),console.log("********************",a.state.password),console.log("the response after logging in ^^^^^^^^^^^^^^^^^^^^^^^ ",e),a.setState({username:"",password:""}),console.log("=-=-=-=-=-=-==-=-",e),a.props.setTheUser(e)}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(b.a)({},n,r))},a.state={username:"",password:""},a.service=new d,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"auth"},r.a.createElement("form",{className:"auth-form",onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{className:"input",type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{className:"input",type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"submit",value:"Login"})),r.a.createElement("div",{className:"no-acct"},r.a.createElement("p",null,"Don't have an account?"),r.a.createElement(E.a,{to:"/signup"},"Signup")))}}]),t}(n.Component),$=a(24),j=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={term:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"onInputChange",value:function(e){var t=this.props.searchBoxName||void 0;this.setState({term:e}),this.props.onSearchTermChange&&this.props.onSearchTermChange({name:t,term:e})}},{key:"render",value:function(){var e=this,t=this.props.searchBoxName||void 0;return r.a.createElement("div",{className:"search-box"},r.a.createElement("div",{className:"search-icon"},r.a.createElement("img",{src:"http://share.ashiknesin.com/search-icon.png",alt:""})),r.a.createElement("input",{name:t,className:"search-input",id:"search",type:"text",placeholder:"Search",value:this.state.term,onChange:function(t){return e.onInputChange(t.target.value)},onKeyPress:this.props.onKeyPress||null}))}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).logoutUser=function(){a.service.logout().then(function(){console.log("logging out the user from the session ###################### ",a.state),a.setState({loggedInUser:null}),a.props.setTheUser(null),console.log("the logged in user info after the log out function $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$ ",a.state.loggedInUser)})},a.state={loggedInUser:null},a.service=new d,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object($.a)({},this.state,{loggedInUser:e.userInSession}))}},{key:"displayInfo",value:function(){var e=this;return this.state.loggedInUser?r.a.createElement("nav",{className:"navbar-logout"},r.a.createElement(j,{searchBoxName:"userNameSearch",onSearchTermChange:this.onSearch}),r.a.createElement("ul",null,r.a.createElement("li",null,"Welcome, ",this.state.loggedInUser.firstName),r.a.createElement("li",null,r.a.createElement(E.a,{to:"/profile"},"Profile")),r.a.createElement("li",null,r.a.createElement(E.a,{to:"/profile/book/:id"},"RecipeBook")),r.a.createElement("li",null,r.a.createElement(E.a,{to:"/recipes/:id"},"Recipe")),r.a.createElement("li",null,r.a.createElement(E.a,{to:"/recipes/create/:id"},"CreateRecipe")),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){return e.logoutUser()}},"Logout")))):r.a.createElement("nav",{className:"navbar-login"},r.a.createElement(j,null),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(E.a,{to:"/"},"Login")),r.a.createElement("li",null,r.a.createElement(E.a,{to:"/signup"},"Signup")),r.a.createElement("li",null,r.a.createElement(E.a,{to:"/profile"},"Profile")),r.a.createElement("li",null,r.a.createElement(E.a,{to:"/profile/book/:id"},"RecipeBook")),r.a.createElement("li",null,r.a.createElement(E.a,{to:"/recipes/:id"},"Recipe")),r.a.createElement("li",null,r.a.createElement(E.a,{to:"/recipes/create/:id"},"CreateRecipe"))))}},{key:"render",value:function(){return r.a.createElement("div",null,this.displayInfo())}}]),t}(n.Component),N=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).getAllBooks=function(){f.a.get("http://localhost:5000/api/profile/book/create",{withCredentials:!0}).then(function(t){e.setState({listOfBooks:t.data})}).catch(function(e){console.log(e)})},e.state={listOfBooks:[]},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getAllBooks()}},{key:"render",value:function(){return r.a.createElement("div",{className:"profile-height"},r.a.createElement("div",{className:"profile-info"},r.a.createElement("div",{className:"about-me"},r.a.createElement("h2",null,"About (First Name):"),r.a.createElement("span",null,"About me About me About me About me About me About me About me About meAbout me About me About me About me About me About me About me About meAbout me About me About me About me About me About me About me About me ")),r.a.createElement("div",null,r.a.createElement("h3",null,"Total Recipes: ",r.a.createElement("span",null,"#")),r.a.createElement("h3",null,"Total Books: ",r.a.createElement("span",null,"#")))),r.a.createElement("div",null,r.a.createElement("h2",null,"My Book Shelf"),r.a.createElement("div",null,this.state.listOfBooks.map(function(e,t){return r.a.createElement("div",{key:e._id},r.a.createElement(E.a,{to:"/profile/book/".concat(e._id)},e.title))})),r.a.createElement(E.a,{to:"/profile/book/create"},r.a.createElement("button",null,"Add Book"))))}}]),t}(n.Component),y=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"page-height"},r.a.createElement("h1",null,"dick in your mouth"))}}]),t}(n.Component),k=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"page-height"},r.a.createElement("h1",null,"this is another dick in your mouth"))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.name,r=t.instructions,l=t.ingrediants,o=t.image,s=t.preptime;f.a.post("http://localhost:5000/api/recipes/create",{name:n,instructions:r,image:o,ingrediants:l,preptime:s},{withCredentials:!0}).then(function(){a.props.getData(),a.setState({name:"",instructions:"",ingrediants:"",image:"",preptime:""})}).catch(function(e){console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(b.a)({},n,r))},a.state={name:"",instructions:"",ingrediants:"",image:"",preptime:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"page-height"},r.a.createElement("form",{className:"create-form",onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Name:"),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Instructions:"),r.a.createElement("textarea",{name:"instructions",value:this.state.instructions,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Preptime:"),r.a.createElement("input",{type:"number",name:"preptime",value:this.state.preptime,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Image:"),r.a.createElement("input",{type:"text",name:"image",value:this.state.image,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"submit",value:"Submit"})))}}]),t}(n.Component),S=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",null,r.a.createElement("h2",null,"this is the footer"))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getTheUser=function(e){a.setState({loggedInUser:e})},a.state={loggedInUser:null},a.service=new d,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"fetchUser",value:function(){var e=this;null===this.state.loggedInUser&&this.service.loggedin().then(function(t){console.log("response from the fetch user function ^&&^&&^&^^&^&^&^&^&^&^&^&^&&^&^&^&^&&^&^&&^^&",t),e.setState({loggedInUser:t})}).catch(function(t){console.log("error from the fetch user function %%%%%%%%%%%%&&&&&&&&&&&&&$$$$$$$$$$$$$$$$$$$$$",t),e.setState({loggedInUser:!1})})}},{key:"render",value:function(){var e=this;return this.fetchUser(),r.a.createElement("div",{className:"App"},r.a.createElement(C,{setTheUser:this.getTheUser,userInSession:this.state.loggedInUser}),r.a.createElement(h.a,null,r.a.createElement(p.a,{exact:!0,path:"/signup",render:function(){return r.a.createElement(v,{setTheUser:e.getTheUser})}}),r.a.createElement(p.a,{exact:!0,path:"/",render:function(){return r.a.createElement(O,{setTheUser:e.getTheUser})}}),r.a.createElement(p.a,{exact:!0,path:"/profile",render:function(){return r.a.createElement(N,null)}}),r.a.createElement(p.a,{exact:!0,path:"/profile/book/:id",render:function(){return r.a.createElement(y,null)}}),r.a.createElement(p.a,{exact:!0,path:"/recipes/:id",render:function(){return r.a.createElement(k,null)}}),r.a.createElement(p.a,{exact:!0,path:"/recipes/create/:id",render:function(){return r.a.createElement(w,null)}})),r.a.createElement(S,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=a(59);o.a.render(r.a.createElement(U.a,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,2,1]]]);
//# sourceMappingURL=main.e487b5a5.chunk.js.map